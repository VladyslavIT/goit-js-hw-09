{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAASC,SAASC,cAAc,SAEhCC,EAAW,GAoBjB,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,WACLH,EACFF,EAAQ,CAAEH,WAAUC,UAEpBG,EAAO,CAAEJ,WAAUC,S,GAEpBA,E,KAvBP,WACE,IAAMQ,EAAYC,aAAaC,QAAQ,YACvC,GAAIF,EAAW,CACb,IAAMG,EAAaC,KAAKC,MAAML,GAC9B,IAAK,IAAMM,KAAOH,EACZA,EAAWI,eAAeD,KAC5BpB,EAAOoB,GAAKE,MAAQL,EAAWG,IAAQ,G,EAK/CG,GAmCAvB,EAAOwB,iBAAiB,SAnDJ,SAACC,GACnBtB,EAASsB,EAAMC,OAAOC,MAAQF,EAAMC,OAAOJ,MAC3CP,aAAaa,QAAQ,WAAYV,KAAKW,UAAU1B,G,IAkDlDH,EAAOwB,iBAAiB,UApBH,SAACC,GACpBA,EAAMK,iBAMN,IAJA,IAAIC,GAAc5B,EAASG,MACrB0B,GAAS7B,EAAS6B,KAClBC,GAAW9B,EAAS8B,OAEjBC,EAAI,EAAGA,GAAKD,EAAQC,GAAI,EAC9B9B,EAAc8B,EAAGH,GACfI,MAAK,SAAAC,G,IAAG/B,EAAQ+B,EAAR/B,SAAUC,EAAK8B,EAAL9B,MACnB+B,EAAAvC,GAASwC,OAAOC,QAAQ,uBAAsCC,OAAfnC,EAAS,QAAYmC,OAANlC,EAAM,M,IAEnEmC,OAAM,SAAAL,G,IAAG/B,EAAQ+B,EAAR/B,SAAUC,EAAK8B,EAAL9B,MAClB+B,EAAAvC,GAASwC,OAAOI,QAAQ,sBAAqCF,OAAfnC,EAAS,QAAYmC,OAANlC,EAAM,M,IAEvEyB,GAAaC,EAEfjB,aAAa4B,WAAW,W","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst formEl = document.querySelector('.form');\n\nconst formData = {};\n\nconst onFormValue = (event) => {\n  formData[event.target.name] = event.target.value;\n  localStorage.setItem('formInfo', JSON.stringify(formData));\n};\n\nfunction onLoadPage() {\n  const saveValue = localStorage.getItem('formInfo');\n  if (saveValue) {\n    const parseValue = JSON.parse(saveValue);\n    for (const key in parseValue) {\n      if (parseValue.hasOwnProperty(key)) {\n        formEl[key].value = parseValue[key] || '';\n      }\n    }\n  }\n}\nonLoadPage();\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nconst onSubmitForm = (event) => {\n  event.preventDefault();\n\n  let timeDelay = +(formData.delay);\n  const step = +(formData.step);\n  const amount = +(formData.amount);\n  // \n  for (let i = 1; i <= amount; i+= 1) { // <--- не понял как привязаться к итерируемому\n     createPromise(i, timeDelay)\n      .then(({ position, delay }) => {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n    timeDelay += step;\n  }\n  localStorage.removeItem('formInfo');\n};\nformEl.addEventListener('input', onFormValue);\nformEl.addEventListener('submit', onSubmitForm);\n\n\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$formEl","document","querySelector","$ce04d3a99e08e73b$var$formData","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","saveValue","localStorage","getItem","parseValue","JSON","parse","key","hasOwnProperty","value","$ce04d3a99e08e73b$var$onLoadPage","addEventListener","event","target","name","setItem","stringify","preventDefault","timeDelay","step","amount","i","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure","removeItem"],"version":3,"file":"03-promises.75d1b791.js.map"}