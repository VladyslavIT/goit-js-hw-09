{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,SAEhCC,EAAW,GAoBjB,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,EACFF,EAAQ,C,SAAEH,E,MAAUC,IAEpBG,EAAO,C,SAAEJ,E,MAAUC,GAAQ,GAE5BA,EAAM,G,EAvBb,WACE,MAAMQ,EAAYC,aAAaC,QAAQ,YACvC,GAAIF,EAAW,CACb,MAAMG,EAAaC,KAAKC,MAAML,GAC9B,IAAK,MAAMM,KAAOH,EACZA,EAAWI,eAAeD,KAC5BpB,EAAOoB,GAAKE,MAAQL,EAAWG,IAAQ,G,EAK/CG,GAmCAvB,EAAOwB,iBAAiB,SAnDHC,IACnBtB,EAASsB,EAAMC,OAAOC,MAAQF,EAAMC,OAAOJ,MAC3CP,aAAaa,QAAQ,WAAYV,KAAKW,UAAU1B,GAAU,IAkD5DH,EAAOwB,iBAAiB,UApBFC,IACpBA,EAAMK,iBAEN,IAAIC,GAAc5B,EAASG,MAC3B,MAAM0B,GAAS7B,EAAS6B,KAClBC,GAAW9B,EAAS8B,OAE1B,IAAK,IAAIC,EAAI,EAAGA,GAAKD,EAAQC,GAAI,EAC9B9B,EAAc8B,EAAGH,GACfI,MAAK,EAAC9B,SAAEA,EAAQC,MAAEA,MACnB8B,EAAAtC,GAASuC,OAAOC,QAAQ,uBAAuBjC,QAAeC,MAAU,IAEvEiC,OAAM,EAAClC,SAAEA,EAAQC,MAAEA,MAClB8B,EAAAtC,GAASuC,OAAOG,QAAQ,sBAAsBnC,QAAeC,MAAU,IAE3EyB,GAAaC,EAEfjB,aAAa0B,WAAW,WAAW","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst formEl = document.querySelector('.form');\n\nconst formData = {};\n\nconst onFormValue = (event) => {\n  formData[event.target.name] = event.target.value;\n  localStorage.setItem('formInfo', JSON.stringify(formData));\n};\n\nfunction onLoadPage() {\n  const saveValue = localStorage.getItem('formInfo');\n  if (saveValue) {\n    const parseValue = JSON.parse(saveValue);\n    for (const key in parseValue) {\n      if (parseValue.hasOwnProperty(key)) {\n        formEl[key].value = parseValue[key] || '';\n      }\n    }\n  }\n}\nonLoadPage();\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nconst onSubmitForm = (event) => {\n  event.preventDefault();\n\n  let timeDelay = +(formData.delay);\n  const step = +(formData.step);\n  const amount = +(formData.amount);\n  // \n  for (let i = 1; i <= amount; i+= 1) { // <--- не понял как привязаться к итерируемому\n     createPromise(i, timeDelay)\n      .then(({ position, delay }) => {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n    timeDelay += step;\n  }\n  localStorage.removeItem('formInfo');\n};\nformEl.addEventListener('input', onFormValue);\nformEl.addEventListener('submit', onSubmitForm);\n\n\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$formData","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","saveValue","localStorage","getItem","parseValue","JSON","parse","key","hasOwnProperty","value","$47d4ff9957288465$var$onLoadPage","addEventListener","event","target","name","setItem","stringify","preventDefault","timeDelay","step","amount","i","then","$parcel$interopDefault","Notify","success","catch","failure","removeItem"],"version":3,"file":"03-promises.01816e16.js.map"}